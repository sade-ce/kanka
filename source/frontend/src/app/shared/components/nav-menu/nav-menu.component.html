      <!-- wrap all the nav items in an accordion panel -->
      <mat-accordion displayMode="flat">
        <mat-nav-list *ngIf="items">

          <!-- use a simple a for an item that has no children,
            match up the styling to the expansion panel styles -->
          <a class="menu" mat-list-item *ngIf="items.pages.length === 0"
              [routerLink]="items.link"
              routerLinkActive="active"
              (click)="accordion.closeAll()">
              <mat-icon>{{items.icon}}</mat-icon>
              <span class="nav-link-text">{{items.title}}</span>
          </a>

          <!-- use expansion panel for heading item with sub page links -->
          <mat-expansion-panel *ngIf="items.pages.length > 0" class="mat-elevation-z0">

            <mat-expansion-panel-header class="menu" [expandedHeight]="'48px'">
              <mat-panel-title class="nav-link" mat-list-item>
                <mat-icon>{{items.icon}}</mat-icon>
                <span class="nav-link-text">{{items.title}}</span>
              </mat-panel-title>
            </mat-expansion-panel-header>

            <div class="nav-section">
              <!-- loop through all your sub pages inside the expansion panel content -->
              <a class="nav-link nav-link-subpage menu" mat-list-item *ngFor="let page of items.pages"
                  [routerLink]="page.link"
                  routerLinkActive="active">
                  <mat-icon style="margin-left: 1vw">{{page.icon}}</mat-icon>
                  <span class="nav-link-text">{{page.title}}</span>
              </a>
            </div>
          </mat-expansion-panel>

        </mat-nav-list>
      </mat-accordion>